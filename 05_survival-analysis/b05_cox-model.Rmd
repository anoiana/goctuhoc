---
params:
  publish: TRUE
  newdate: FALSE
date: "&#x1F4C5; _`r {source('../00_supp/general_R.R'); newdate_func(params$newdate)}`_"
title: "`r totitle('mÃ´ hÃ¬nh há»“i quy nguy cÆ¡ tÆ°Æ¡ng Ä‘á»‘i (cox)')`"
subtitle: |
author: ğŸ‘¦ğŸ» _A.T_
output: 
    bookdown::html_document2:
      fig_caption: yes
      theme: default
      highlight: tango
      toc: true
      toc_float: 
        collapsed: false
      toc_depth: 3
      code_folding: hide
      css: "../00_supp/style.css"
      number_sections: true
      includes:
        in_header: "../00_supp/header.html"
        before_body: "test.html"
fontsize: 12pt
bibliography: ["citation.bib"]
csl: "../00_supp/apa.csl"
link-citations: true
editor_options: 
  chunk_output_type: console
  markdown: 
    wrap: 72
---

```{css, echo = F, eval = FALSE}
/*----------LOGO above TOC---------*/

#TOC::before {
  content: "";
  display: block;
  height: 250px;
  margin: 2.75em 15px 40px 15px;
  background-image: url("km.png");
  background-size: contain;
  background-position: center center;
  background-repeat: no-repeat;
}
```

```{r  child="../00_supp/general_rmd.Rmd"}
```

```{r results='hide'}
publish_func(params$publish)
```

::: {.watermark}
*DRAFT*
:::
<!-- ===================== START FROM HERE ========================== -->

# GIá»šI THIá»†U 

Gá»i $x = \tp{(x_1,x_2, \dots)}$ lÃ  vector cá»§a cÃ¡c biáº¿n subgroup cá»§a má»™t bá»‡nh nhÃ¢n trÆ°á»›c hoáº·c táº¡i thá»i Ä‘iá»ƒm screening, $T$ lÃ  biáº¿n thá»i gian liÃªn tá»¥c. _MÃ´ hÃ¬nh nguy cÆ¡ tÆ°Æ¡ng Ä‘á»‘i_ hoáº·c _mÃ´ hÃ¬nh Cox_ Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh thÃ´ng qua má»‘i quan há»‡ vá»›i hÃ m nguy cÆ¡
$$
\begin{align}
\lambda(t,x) &= \lim_{h\to 0^+}\frac{\P(t \le T < t+h|T \ge t,x)}{h} \\
&= \lambda_0(t)r(t,x), \quad t >0
\end{align}
(\#eq:eq1)
$$

Trong Ä‘Ã³, $\lambda_0(t)$ lÃ  hÃ m nguy cÆ¡ táº¡i thá»i Ä‘iá»ƒm quy chiáº¿u (baseline hazard function), trÃªn cÆ¡ báº£n ta sáº½ tháº¥y pháº§n nÃ y sáº½ bá»‹ triá»‡t tiÃªu khi ta Æ°á»›c lÆ°á»£ng nguy cÆ¡ tÆ°Æ¡ng Ä‘á»‘i cá»§a 2 nhÃ³m vÃ¬ tháº¿ nÃ³ k cáº§n Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a theo má»™t dáº¡ng xÃ¡c Ä‘á»‹nh. $r(t,x)$ chÃ­nh lÃ  hÃ m Ä‘áº¡i diá»‡n cho má»‘i quan há»‡ giá»¯a biáº¿n thá»i gian $t$ vÃ  biáº¿n subgroup $x$. $r(t,x)$ cÃ³ nhiá»u hÃ¬nh thÃ¡i khÃ¡c nhau nhÆ°ng dáº¡ng thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng chÃ­nh lÃ  hÃ m exponential, $r(t,x) = \exp[\tp{Z(t)}\beta]$, ta sáº½ cÃ³ 
$$
\lambda(t,x) = \lambda_0(t)\exp[\tp{Z(t)}\beta],
(\#eq:eq2)
$$
vá»›i $Z(t) = \tp{[Z_1(t),\dots,Z_2(t)]}$. Vá»›i kÃ½ hiá»‡u nhÆ° trong `r lb(eq2)` ta cho phÃ©p biáº¿n  supgroup phá»¥ thuá»™c vÃ o thá»i gian $t$ (nghÄ©a lÃ  vá»›i nhá»¯ng má»‘c thá»i gian khÃ¡c nhau, má»—i bá»‡nh nhÃ¢n sáº½ cÃ³ nhá»¯ng thÃ´ng tin khÃ¡c nhau). hÃ m nguy cÆ¡ táº¡i thá»i Ä‘iá»ƒm quy chiáº¿u $\lambda_0(t)$ tÆ°Æ¡ng á»©ng vá»›i $Z(t) = \tp{(0,\dots,0)} \quad \forall t$, vÃ  $\beta = \tp{(\beta_1,\dots,\beta_p)}$ lÃ  vector cá»§a cÃ¡c tham sá»‘ há»“i quy chÆ°a biáº¿t. 

TÆ°Æ¡ng á»©ng vá»›i Ä‘á»‹nh nghÄ©a cá»§a hÃ m nguy cÆ¡ trong `r lb(eq2)`, ta sáº½ cÃ³ hÃ m sá»‘ng sÃ³t lÃ  
$$
S(t,x) = \P(T > t|x) = \exp\bigg\{\int_0^t \lambda_0(u)\exp[\tp{Z(u)}\beta]du\bigg\}
(\#eq:eq3)
$$
láº¥y Ä‘áº¡o hÃ m 2 váº¿ cá»§a hÃ m sá»‘ trÃªn ta sáº½ Ä‘Æ°á»£c
$$
f(t,x) = \lambda(t,x)S(t,x).
(\#eq:eq4)
$$

TrÆ°á»ng há»£p Ä‘Æ¡n giáº£n nháº¥t Ä‘Æ°á»£c xem xÃ©t lÃ  $x$ sáº½ lÃ  má»™t biáº¿n nhá»‹ phÃ¢n Ä‘áº¡i diá»‡n cho hai nhÃ³m Ä‘iá»u trá»‹ báº±ng Ä‘áº·c trá»‹ vÃ  giáº£ dÆ°á»£c. Ta cÅ©ng giáº£ sá»­ ráº±ng biáº¿n $x$ sáº½ hoÃ n toÃ n Ä‘á»™c láº­p vá»›i thá»i gian, nghÄ©a lÃ  náº¿u má»™t bá»‡nh nhÃ¢n Ä‘Æ°á»£c Ä‘iá»u trá»‹ báº±ng Ä‘áº·c trá»‹ thÃ¬ ngÆ°á»i Ä‘Ã³ sáº½ sá»­ dá»¥ng cÃ¹ng má»™t loáº¡i thuá»‘c trong cáº£ quÃ¡ trÃ¬nh ngÆ°á»i Ä‘Ã³ tham gia nghiÃªn cá»©u. NhÆ° váº­y `r lb(eq2)` cÃ³ thá»ƒ Ä‘Æ°á»£c viáº¿t láº¡i lÃ  $\lambda(t,x) = \lambda_0(t)\exp(x\beta), \quad x = 0,1$. NhÆ° váº­y hÃ m nguy cÆ¡ trong hai nhÃ³m Ä‘iá»u trá»‹ sáº½ tuÃ¢n thá»§ theo giáº£ thuyáº¿t _proportional hazard_ vÃ  $\beta$ chÃ­nh lÃ  Ä‘áº¡i lÆ°á»£ng Ä‘o sá»± hiá»‡u quáº£ cá»§a phÆ°Æ¡ng phÃ¡p Ä‘iá»u trá»‹. 

Trong má»™t sá»‘ trÆ°á»ng há»£p, ta cÃ³ thá»ƒ cho phÃ©p biáº¿n subgroups bá»‹ áº£nh hÆ°á»Ÿng theo thá»i gian, nhÆ° váº­y ta sáº½ xem xÃ©t $Z_1(t) = x$ vÃ  $Z_2(t) = xt$. MÃ´ hÃ¬nh trong `r lb(eq2)` Ä‘Æ°á»£c viáº¿t láº¡i lÃ 
$$
\lambda(t,x) = \lambda_0(t)\exp[x\beta_1+(xt)\beta_2],
$$
trong Ä‘Ã³ $\beta_2$ Ä‘áº¡i diá»‡n cho Ä‘áº¡i lÆ°á»£ng tÆ°Æ¡ng tÃ¡c cá»§a biáº¿n subgroup vÃ  thá»i gian $t$. 







<!-- ====================== END ====================================== -->

<!-- # *References* {.unnumbered} -->
