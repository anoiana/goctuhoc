---
title: "ğŸ“Potential Outcomes"
author: ğŸ‘¦ $\mathcal{An}$^[anh.stats@gmail.com]
date: "&#x1F4C5; _`r {
if(!file.exists('date_list.rds')){saveRDS(list(), file = 'date_list.rds')}
update=FALSE
filename=knitr::current_input(dir = FALSE)
mylist <- readRDS(file ='date_list.rds')
if(update|!(filename%in%names(mylist))){
mylist[[filename]]<- format(Sys.Date(),format = '%d-%m-%Y')
saveRDS(mylist, file = 'date_list.rds')}
readRDS(file ='date_list.rds')[[filename]]  }`_"
abstract: |
  ÄÃ¢y lÃ  bÃ i Ä‘áº§u tiÃªn trong chuá»—i bÃ i vá» causal Inference, chÃºng ta sáº½ báº¯t Ä‘áº§u báº±ng cÃ¡c khÃ¡i niá»‡m cÆ¡ báº£n trong suy luáº­n nhÃ¢n quáº£ nhÆ° potential outcomes, ba quy Æ°á»›c quan trá»ng trong lÃ½ thuyáº¿t vá» suy luáº­n nhÃ¢n quáº£. CÃ³ nhiá»u cÃ¡ch giáº£i quyáº¿t bÃ i toÃ¡n nhÃ¢n quáº£, ta sáº½ láº§n lÆ°á»£t tÃ¬m hiá»ƒu qua nhá»¯ng bÃ i tiáº¿p theo. 
header-includes:
   - \usepackage{amsmath}
   - \usepackage{titling}
   - \pretitle{\begin{flushleft}}
   - \posttitle{\end{flushleft}}
   - \usepackage{eso-pic,graphicx,transparent}
output: 
    bookdown::html_document2:
      fig_caption: yes
      theme: default
      highlight: tango
      toc: true
      toc_float: 
        collapsed: false
      toc_depth: 3
      code_folding: hide
      css: "../00_supp/style.css"
      number_sections: true
      includes:
        in_header: "../00_supp/header.html"
        before_body: "test.html"
        after_body: "../00_supp/mycomment.html"
fontsize: 12pt
bibliography: ["citation.bib"]
csl: ["../00_supp/apa.csl"]
link-citations: true
editor_options: 
  chunk_output_type: console
---

```{css, echo = F}
/*----------LOGO above TOC---------*/

#TOC::before {
  content: "";
  display: block;
  height: 200px;
  margin: 2.75em 20px 40px 20px;
  background-image: url("casual.jpg");
  background-size: contain;
  background-position: center center;
  background-repeat: no-repeat;
}
```

```{r child = "../00_supp/general_rmd.Rmd"}
```

# Giá»›i thiá»‡u  

TrÆ°á»›c khi Ä‘i vÃ o giáº£i thÃ­ch ná»™i dung chÃ­nh vá» _potential outcomes (biáº¿n phá»¥ thuá»™c tiá»m nÄƒng)_, chÃºng ta sáº½ xem xÃ©t má»™t vÃ i vÃ­ dá»¥ Ä‘iá»ƒn hÃ¬nh Ä‘á»ƒ tháº¥y ráº±ng táº¡i sao _causal inference (suy luáº­n nhÃ¢n quáº£)_ láº¡i quan trá»ng khi ta tiáº¿n hÃ nh so sÃ¡nh thÃ­ nghiá»‡m báº±ng cÃ¡c phÆ°Æ¡ng phÃ¡p thá»‘ng kÃª. Ta hÃ£y xem xÃ©t 2 trÆ°á»ng há»£p sau Ä‘Ã¢y 

**TrÆ°á»ng há»£p 1.** giáº£ sá»­ ta tiáº¿n hÃ nh má»™t thÃ­ nghiá»‡m so sÃ¡nh hiá»‡u quáº£ trong Ä‘iá»u trá»‹ má»™t cÄƒn bá»‡nh $D$ báº±ng hai treatments (phÆ°Æ¡ng phÃ¡p Ä‘iá»u trá»‹) $T_1$ vÃ  $T_2$. Trong nhÃ³m bá»‡nh nhÃ¢n tham gia thÃ­ nghiá»‡m, ta dá»… dÃ ng tháº¥y ráº±ng cÃ³ thá»ƒ chia nhá»¯ng bá»‡nh nhÃ¢n nÃ y thÃ nh 2 nhÃ³m theo giá»›i tÃ­nh $X = \{nam, ná»¯\}$. Ta cho nhá»¯ng bá»‡nh nhÃ¢n nam Ä‘iá»u trá»‹ báº±ng phÆ°Æ¡ng phÃ¡p $T_1$ vÃ  nhá»¯ng bá»‡nh nhÃ¢n ná»¯ Ä‘iá»u trá»‹ báº±ng phÆ°Æ¡ng phÃ¡p $T_2$. Ta cÅ©ng cÃ³ thÃªm thÃ´ng tin ráº±ng cÄƒn bá»‡nh $D$ nÃ y thÆ°á»ng diá»…n biáº¿n xáº¥u hÆ¡n náº¿u ngÆ°á»i mang bá»‡nh lÃ  ná»¯, nhÆ° váº­y rÃµ rÃ ng lÃ  Ä‘iá»u kiá»‡n giá»›i tÃ­nh $X$ cÃ³ má»‘i quan há»‡ vá»›i cáº£ tÃ¬nh tráº¡ng bá»‡nh, vÃ  phÆ°Æ¡ng phÃ¡p Ä‘iá»u trá»‹. VÃ¬ tháº¿ khi tiáº¿n hÃ nh so sÃ¡nh, káº¿t quáº£ sáº½ bá»‹ nhiá»…u, vÃ¬ hiá»‡u quáº£ phÆ°Æ¡ng phÃ¡p Ä‘iá»u trá»‹ Ä‘Ã£ bá»‹ nhiá»…u bá»Ÿi Ä‘iá»u kiá»‡n giá»›i tÃ­nh $X$. NÃ³i cÃ¡ch khÃ¡c, khi so sÃ¡nh trá»±c tiáº¿p tá»« biáº¿n Ä‘iá»u trá»‹ $T$ vÃ  káº¿t quáº£ $Y$, ta Ä‘Ã£ bá» qua tÃ¡c nhÃ¢n $X$. Äá»ƒ trÃ¡nh tÃ¬nh tráº¡ng nhiá»…u, ta cáº§n so sÃ¡nh trÃªn má»™t nhÃ³m ngÆ°á»i cÃ³ cÃ¹ng Ä‘iá»u kiá»‡n giá»›i tÃ­nh, vÃ  phÆ°Æ¡ng phÃ¡p Ä‘Æ°á»£c káº¿t luáº­n lÃ  hiá»‡u quáº£ hÆ¡n pháº£i cho káº¿t quáº£ nhÆ° nhau á»Ÿ cáº£ hai nhÃ³m bá»‡nh nhÃ¢n. 

**TrÆ°á»ng há»£p 2.** Ta láº¡i xem xÃ©t 2 phÆ°Æ¡ng phÃ¡p Ä‘iá»u trá»‹ $T_1$ vÃ  $T_2$ cho má»™t cÄƒn bá»‡nh $D$ nÃ o Ä‘Ã³. NhÃ³m bá»‡nh nhÃ¢n tham gia cÃ³ thá»ƒ Ä‘Æ°á»£c phÃ¢n chia theo tÃ¬nh tráº¡nh bá»‡nh náº·ng vÃ  nháº¹, táº¡m gá»i lÃ  biáº¿n sá»‘ $X$. Náº¿u nhÆ° $T_1$ khÃ¡ khang hiáº¿m, bá»‡nh nhÃ¢n Ä‘Æ°á»£c Ä‘iá»u trá»‹ báº±ng phÆ°Æ¡ng phÃ¡p nÃ y báº¯t buá»™c pháº£i chá» Ä‘á»£i. Äiá»u nÃ y khÃ´ng xáº£y ra vá»›i phÆ°Æ¡ng phÃ¡p $T_2$. NhÆ° váº­y, má»™t bá»‡nh nhÃ¢n nÃ o Ä‘Ã³ muá»‘n Ä‘iá»u trá»‹ báº±ng phÆ°Æ¡ng phÃ¡p $T_1$ sáº½ pháº£i Ä‘á»£i trong má»™t khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh, vÃ  trong suá»‘t khoáº£ng thá»i gian nÃ y, tÃ¬nh tráº¡ng bá»‡nh cá»§a bá»‡nh nhÃ¢n sáº½ diá»…n biáº¿n ngÃ y má»™t xáº¥u Ä‘i. Cho Ä‘áº¿n khi bá»‡nh nhÃ¢n Ä‘Ã³ chÃ­nh thá»©c Ä‘Æ°á»£c Ä‘iá»u trá»‹, thÃ¬ bá»‡nh nhÃ¢n tá»« nhÃ³m nháº¹ Ä‘Ã£ chuyá»ƒn thÃ nh nhÃ³m náº·ng. RÃµ rÃ ng, biáº¿n sá»‘ treatment $T$ Ä‘Ã£ áº£nh hÆ°á»Ÿng lÃªn tÃ¬nh tráº¡ng bá»‡nh, do Ä‘Ã³ ngay cáº£ khi $T_1$ hiá»‡u quáº£ hÆ¡n $T_2$, thÃ¬ dÆ°á»›i Ä‘iá»u kiá»‡n nhÆ° trÃªn, nÃ³ láº¡i trá»Ÿ nÃªn kÃ©m hiá»‡u quáº£ hÆ¡n $T_2$, bá»Ÿi vÃ¬ tÃ¬nh tráº¡ng bá»‡nh cÅ©ng sáº½ gÃ¢y áº£nh hÆ°á»Ÿng lÃªn kháº£ nÄƒng phá»¥c há»“i cá»§a bá»‡nh nhÃ¢n, vÃ  trong thÃ­ nghiá»‡m nÃ y, ta láº¡i má»™t láº§n ná»¯a khÃ´ng xem xÃ©t biáº¿n sá»‘ vá» tÃ¬nh tráº¡ng bá»‡nh. 

TÃ³m láº¡i, treatment hoÃ n toÃ n phá»¥ thuá»™c vÃ o má»™t biáº¿n sá»‘ Ä‘iá»u kiá»‡n nÃ o Ä‘Ã³, vÃ  Ä‘iá»u kiá»‡n nÃ y cÅ©ng áº£nh hÆ°á»Ÿng Ä‘áº¿n kháº£ nÄƒng Ä‘iá»u trá»‹, tá»©c outcomes $Y$. Káº¿t luáº­n sáº½ khÃ´ng chÃ­nh xÃ¡c náº¿u ta bá» qua cÃ¡c confounder (biáº¿n Ä‘iá»u kiá»‡n gÃ¢y nhiá»…u)$X$.  Hai trÆ°á»ng há»£p trÃªn cÃ³ thá»ƒ phÃ¢n biá»‡t báº±ng sá»± áº£nh hÆ°á»Ÿng lÃªn nhau cá»§a cÃ¡c biáº¿n sá»‘, trong trÆ°á»ng há»£p 1 thÃ¬ confounder $X$ áº£nh hÆ°á»Ÿng lÃªn treatment $T$, cÃ²n trÆ°á»ng há»£p 2 thÃ¬ treatment $T$ láº¡i áº£nh hÆ°á»Ÿng lÃªn confounders $X$ _(xem hÃ¬nh \@ref(fig:relationship))_. NhÆ° váº­y, Ä‘á»ƒ cÃ³ thá»ƒ káº¿t luáº­n vá» má»‘i quan há»‡ nhÃ¢n quáº£ má»™t cÃ¡ch chÃ­nh xÃ¡c, thÃ¬ trÆ°á»›c khi tiáº¿n hÃ nh phÃ¢n tÃ­ch thá»‘ng kÃª báº±ng cÃ¡c phÆ°Æ¡ng phÃ¡p thá»‘ng kÃª cÄƒn báº£n, ta cáº§n pháº£i xÃ©t cÃ¡c confounders trong má»™t data. 

```{r relationship, fig.cap="*(trÃ¡i) confounders áº£nh hÆ°á»Ÿng lÃªn treatment vÃ  outcome; (pháº£i) treatment áº£nh hÆ°á»Ÿng lÃªn confounders vÃ  outcomes*"}
d = tibble(x = c(0.2,0.5,0.8), y = c(0.3,0.8,0.3), lab = c("T","X","Y"))
edge = c("XT","TY","XY")
draw = draw_diagram(d, invisible = T)
draw$edge(edge)
g1 = draw$finalize(arrow = T)

edge2 = c("TX","TY","XY")
draw$edge(edge2)
g2 = draw$finalize(arrow = T)
gridExtra::grid.arrange(g1,g2, ncol = 2)
```

Tiáº¿p theo ta cáº§n nhá»› ráº±ng _correlation (quan há»‡ tÆ°Æ¡ng quan)_ khÃ´ng há» (hoáº·c khÃ´ng trá»±c tiáº¿p) Ä‘Æ°a Ä‘áº¿n quan há»‡ _causation (quan há»‡ nhÃ¢n quáº£)_. VÃ­ dá»¥, ta tÃ¬m hiá»ƒu vá» nguyÃªn nhÃ¢n dáº«n Ä‘áº¿n chá»©ng Ä‘au Ä‘áº§u báº±ng cÃ¡ch xem xÃ©t 2 tÃ¡c nhÃ¢n: (1) uá»‘ng nÆ°á»›c Ä‘Ã¡, vÃ  (2) khÃ´ng uá»‘ng nÆ°á»›c Ä‘Ã¡. RÃµ rÃ ng, náº¿u ta xem xÃ©t má»™t báº£n sá»‘ liá»‡u nÃ o Ä‘Ã³ thÃ¬ ta tháº¥y Ä‘Æ°á»£c má»‘i tÆ°Æ¡ng quan giá»¯a hai biáº¿n sá»‘ nÃ y, ngÆ°á»i cÃ ng uá»‘ng nhiá»u nÆ°á»›c Ä‘Ã¡, thÃ¬ kháº£ nÄƒng bá»‹ Ä‘au Ä‘áº§u cÃ ng nhiá»u. NhÆ°ng liá»‡u má»‘i tÆ°Æ¡ng quan nÃ y cÃ³ cho phÃ©p ta káº¿t káº¿t luáº­n ráº±ng nguyÃªn nhÃ¢n cá»§a Ä‘au Ä‘áº§u chÃ­nh lÃ  vÃ¬ uá»‘ng nÆ°á»›c Ä‘Ã¡, vÃ  ta khÃ´ng nÃªn uá»‘ng nÆ°á»›c Ä‘Ã¡ náº¿u muá»‘n háº¿t Ä‘au Ä‘áº§u? Náº¿u ta xem xÃ©t ká»¹ hÆ¡n má»™t chÃºt, ta tháº¥y ráº±ng, Ä‘a sá»‘ nhá»¯ng ngÆ°á»i uá»‘ng nhiá»u nÆ°á»›c Ä‘Ã¡ cÃ³ khuynh hÆ°á»›ng Ä‘i ngoÃ i trá»i náº¯ng nhiá»u hÆ¡n nhá»¯ng ngÆ°á»i Ã­t hoáº·c khÃ´ng uá»‘ng nÆ°á»›c Ä‘Ã¡, vÃ  rÃµ rÃ ng, viá»‡c Ä‘i dÆ°á»›i trá»i náº¯ng nhiá»u hay Ã­t chÃ­nh lÃ  nguyÃªn nhÃ¢n dáº«n Ä‘áº¿n tÃ¬nh tráº¡ng Ä‘au Ä‘áº§u. Ta tháº¥y ráº±ng biáº¿n sá»‘ Ä‘iá»u kiá»‡n $X$ Ä‘áº¡i diá»‡n cho viá»‡c Ä‘i dÆ°á»›i trá»i náº¯ng Ä‘Ã£ áº£nh hÆ°á»Ÿng lÃªn biáº¿n sá»‘ $T$ Ä‘áº¡i diá»‡n cho viá»‡c uá»‘ng nÆ°á»›c Ä‘Ã¡. CÅ©ng cÃ³ thá»ƒ, khi xem xÃ©t á»Ÿ má»™t gÃ³c Ä‘á»™ nÃ o Ä‘Ã³, ta sáº½ cÃ³ thá»ƒ tháº¥y nÆ°á»›c Ä‘Ã¡ cÅ©ng cÃ³ áº£nh hÆ°á»Ÿng lÃªn chá»©ng Ä‘au Ä‘áº§u nhÆ°ng khÃ´ng Ä‘Ã¡ng ká»ƒ, vÃ  nguyÃªn nhÃ¢n chÃ­nh váº«n lÃ  do ngÆ°á»i Ä‘Ã³ Ä‘i dÆ°á»›i trá»i náº¯ng nÃ³ng. NhÆ° váº­y ta tháº¥y ráº±ng:

> <span style="color:purple">má»©c Ä‘á»™ tÆ°Æ¡ng quan cá»§a 2 biáº¿n sá»‘ nÃ o Ä‘Ã³ khÃ´ng há» dáº«n Ä‘áº¿n quan há»‡ nhÃ¢n quáº£ cá»§a 2 biáº¿n Ä‘Ã³</span> 

# Potential outcomes vÃ  cÃ¡c áº£nh hÆ°á»Ÿng riÃªng láº» cá»§a treatments

á» pháº§n nÃ y ta sáº½ tÃ¬m hiá»ƒu nhá»¯ng khÃ¡i niá»‡m cÆ¡ báº£n trong cÃ¡c phÃ¢n tÃ­ch vá» suy luáº­n nhÃ¢n quáº£. Äáº§u tiÃªn lÃ  _potential outcome_, ta láº§n lÆ°á»£t xem xÃ©t 2 trÆ°á»ng há»£p sau

__TrÆ°á»ng há»£p 1.__ Báº¡n vá»«a Ä‘i quáº©y vá» nhÃ  lÃºc 1h sÃ¡ng vÃ  phÃ¡t hiá»‡n mÃ¬nh bá»‹ nhá»©c Ä‘áº§u, nhÆ° váº­y cÃ³ thá»ƒ kháº³ng Ä‘á»‹nh ráº±ng nguyÃªn nhÃ¢n gÃ¢y ra tÃ¬nh tráº¡ng nhá»©c Ä‘áº§u lÃ  do báº¡n Ä‘Ã£ Ä‘i quáº©y hay khÃ´ng? Náº¿u nhÆ° hÃ´m nay báº¡n khÃ´ng Ä‘i quáº©y vá»›i lÅ© báº¡n, nhÆ°ng báº¡n váº«n bá»‹ nhá»©c Ä‘áº§u thÃ¬ sao? RÃµ rÃ ng "Ä‘i quáº©y" khÃ´ng tháº­t sá»± lÃ  nguyÃªn nhÃ¢n gÃ¢y ra cÆ¡n nhá»©c Ä‘áº§u vá»«a rá»“i. 

__TrÆ°á»ng há»£p 2.__ Ta hÃ£y xem xÃ©t váº¥n Ä‘á» trÃªn á»Ÿ má»™t diá»…n biáº¿n khÃ¡c. Náº¿u nhÆ° báº¡n Ä‘i quáº©y, vÃ  bá»‹ nhá»©c Ä‘áº§u, náº¿u nhÆ° báº¡n khÃ´ng Ä‘i quáº©y vÃ  báº¡n khÃ´ng bá»‹ nhá»©c Ä‘áº§u. Trong trÆ°á»ng há»£p nÃ y, rÃµ rÃ ng "Ä‘i quáº©y" lÃ  má»™t nguyÃªn nhÃ¢n khÃ¡ rÃµ rÃ ng dáº«n Ä‘áº¿n tÃ¬nh tráº¡ng nhá»©c Ä‘áº§u. 

Trong 2 trÆ°á»ng há»£p trÃªn, ta Ä‘Ã£ sá»­ dá»¥ng phÆ°Æ¡ng phÃ¡p suy luáº­n nhÃ¢n quáº£ (causal inference). Trong ná»™i dung nÃ y, ta cÃ³ thá»ƒ xem outcome nhÆ° lÃ  há»‡ quáº£, nÃ³i cÃ¡ch khÃ¡c lÃ  káº¿t quáº£ cÃ³ Ä‘Æ°á»£c khi ta thá»±c hiá»‡n má»™t can thiá»‡p nÃ o Ä‘Ã³. VÃ­ dá»¥ ta gá»i biáº¿n phá»¥ thuá»™c $Y = 1$ Ä‘áº¡i diá»‡n cho káº¿t quáº£ nhá»©c Ä‘áº§u, vÃ  $Y=0$ lÃ  khÃ´ng nhá»©c Ä‘áº§u. PhÆ°Æ¡ng phÃ¡p Ä‘iá»u trá»‹ $T = 1$, lÃ  hÃ nh Ä‘á»™ng can thiá»‡p (intervention) hay nguyÃªn nhÃ¢n (chÃ­nh lÃ  Ä‘i quáº©y) vÃ  ngÆ°á»£c láº¡i $T=0$ (khÃ´ng Ä‘i quáº©y). Ta kÃ½ hiá»‡u $Y(1)$ chÃ­nh lÃ  potential outcome khi ta can thiá»‡p $T=1$ (tá»©c lÃ  bá»‹ nhá»©c Ä‘áº§u vÃ  trÆ°á»›c Ä‘Ã³ Ä‘Ã£ Ä‘i quáº©y), giáº£i thÃ­ch tÆ°Æ¡ng tá»± cho $Y(0)$. Tá»•ng quÃ¡t, ta gá»i $Y(t)$ lÃ  potential outcome (hay biáº¿n káº¿t quáº£ tiá»m nÄƒng) náº¿u cÃ³ sá»± can thiá»‡p $t$. Ta cÃ³ thá»ƒ hiá»ƒu nÃ´m na lÃ  $Y(t)$ tá»©c lÃ  káº¿t quáº£ giáº£ Ä‘á»‹nh mÃ  ta cÃ³ Ä‘Æ°á»£c dÆ°á»›i can thiá»‡p $t$, khÃ¡c vá»›i biáº¿n $Y$ lÃ  káº¿t quáº£ sau khi Ä‘Æ°á»£c can thiá»‡p, tá»©c lÃ  káº¿t quáº£ tháº­t sá»± cÃ³ thá»ƒ quan sÃ¡t (xem hÃ¬nh \@ref(fig:fig1)). Ta cÃ³ thá»ƒ nháº­n tháº¥y ráº±ng khÃ´ng pháº£i táº¥t cáº£ potential outcome $Y(t)$, Ä‘á»u cÃ³ thá»ƒ quan sÃ¡t Ä‘Æ°á»£c. vÃ­ dá»¥ nhÆ° ta Ä‘Ã£ Ä‘i quáº©y vÃ  ta bá»‹ nhá»©c Ä‘áº§u, ta khÃ´ng thá»ƒ biáº¿t Ä‘Æ°á»£c náº¿u ta khÃ´ng Ä‘i quáº©y thÃ¬ ta cÃ³ bá»‹ nhá»©c Ä‘áº§u hay khÃ´ng. 

á» hai vÃ­ dá»¥ trÃªn, ta chá»‰ xÃ©t trÆ°á»ng há»£p cÃ¡ nhÃ¢n, nÃ³ Ä‘Æ°á»£c xem lÃ  má»™t quan sÃ¡t. Trong má»™t diá»…n biáº¿n khÃ¡c, vÃ­ dá»¥ ngÃ y hÃ´m sau ta vÃ  Ä‘Ã¡m báº¡n gáº·p nhau trong cÃ´ng ty, trong giá» cÆ¡m trÆ°a, cáº£ Ä‘Ã¡m ká»ƒ láº¡i nhá»¯ng gÃ¬ xáº£y ra ngÃ y hÃ´m qua sau khi má»—i Ä‘á»©a vá» nhÃ , nhÆ° váº­y náº¿u nhÃ³m báº¡n cÃ³ táº¥t cáº£ $n$ ngÆ°á»i thÃ¬ quan sÃ¡t thá»© $i$th chÃ­nh lÃ  ngÆ°á»i báº¡n thá»© $i$th trong nhÃ³m báº¡n cá»§a ta. ChÃºng ta cÃ³ thá»ƒ Ä‘á»‹nh nghÄ©a _individual treatment effect (ITE) (áº£nh hÆ°á»Ÿng riÃªng láº» cá»§a phÆ°Æ¡ng phÃ¡p Ä‘iá»u trá»‹)_ cho tá»«ng cÃ¡ nhÃ¢n lÃ  

$$
\tau_i := Y_i(1) - Y_i(0)
(\#eq:21)
$$

ChÃº Ã½ ráº±ng \@ref(eq:21) sá»­ dá»¥ng potential outcome Ä‘á»ƒ tÃ­nh ITE. VÃ­ dá»¥ Náº¿u báº¡n Ä‘i quáº©y vÃ  bá»‹ nhá»©c Ä‘áº§u, tá»©c lÃ  $Y(1) = 1$, cÃ²n khÃ´ng Ä‘i quáº©y vÃ  khÃ´ng bá»‹ nhá»©c Ä‘áº§u lÃ  $Y(0) = 0$, nhÆ° váº­y $\tau = Y(1) - Y(0) = 1-0 =1$, nhÆ° váº­y báº¡n cÃ³ thá»ƒ nÃ³i do Ä‘i quáº©y nÃªn bá»‹ nhá»©c Ä‘áº§u, ngÆ°á»£c láº¡i náº¿u báº¡n khÃ´ng Ä‘i quáº©y mÃ  váº«n bá»‹ nhá»©c Ä‘áº§u tá»©c lÃ  $\tau = Y(1)-Y(0) = 1 - 1 = 0$, báº¡n khÃ´ng thá»ƒ káº¿t luáº­n nguyÃªn nhÃ¢n nhá»©c Ä‘áº§u lÃ  do Ä‘i quáº©y. 

# Váº¥n Ä‘á» phÃ¡t sinh trong suy luáº­n nhÃ¢n quáº£ 
<!-- part 2.2, p7 -->
TrÃªn thá»©c táº¿ thÃ¬ ta khÃ´ng bao giá» cÃ³ thá»ƒ quan sÃ¡t Ä‘Æ°á»£c 2 káº¿t quáº£ trÃªn cÃ¹ng má»™t Ä‘á»‘i tÆ°á»£ng. VÃ­ dá»¥ nhÆ° báº¡n Ä‘i quáº©y vá», vÃ  bá»‹ nhá»©c Ä‘áº§u, thÃ¬ nhá»©c Ä‘áº§u chÃ­nh lÃ  káº¿t quáº£ báº¡n nháº­n Ä‘Æ°á»£c sau khi Ä‘i quáº©y; trong khi Ä‘Ã³ em gÃ¡i báº¡n á»Ÿ nhÃ  vÃ  khÃ´ng bá»‹ nhá»©c Ä‘áº§u, thÃ¬ khÃ´ng bá»‹ nhá»©c Ä‘áº§u lÃ  káº¿t quáº£ cá»§a em gÃ¡i báº¡n. Ta khÃ´ng thá»ƒ nÃ o quan sÃ¡t Ä‘Æ°á»£c káº¿t quáº£ khi báº¡n khÃ´ng Ä‘i quáº©y, vÃ  tÆ°Æ¡ng tá»± ta cÅ©ng khÃ´ng thá»ƒ quan sÃ¡t Ä‘Æ°á»£c káº¿t quáº£ khi em gÃ¡i báº¡n Ä‘i quáº©y. ÄÃ¢y chÃ­nh lÃ  váº¥n Ä‘á» cÄƒn báº£n khi lÃ m viá»‡c vá»›i suy luáº­n nhÃ¢n quáº£ trong thá»‘ng kÃª. NhÆ° váº­y, dá»… tháº¥y ráº±ng vá»›i báº¥t ká»³ má»™t Ä‘Æ¡n vá»‹ $i$ nÃ o Ä‘Ã³, ta chá»‰ cÃ³ thá»ƒ cÃ³ Ä‘Æ°á»£c $Y_i(0)$ HOáº¶C $Y_i(1)$, do Ä‘Ã³ káº¿t quáº£ nhÃ¢n quáº£ $Y_i(1) - Y_i(0)$ khÃ´ng thá»ƒ tÃ­nh Ä‘Æ°á»£c. ÄÃ¢y chÃ­nh lÃ  Ä‘iá»ƒm khÃ¡c biá»‡t giá»¯a suy luáº­n nhÃ¢n quáº£ vÃ  há»c mÃ¡y (machine learning). Vá»›i há»c mÃ¡y, ta chá»‰ quan tÃ¢m tá»›i viá»‡c dá»± Ä‘oÃ¡n má»™t káº¿t quáº£ $Y$ Ä‘Ã£ quan sÃ¡t chá»© khÃ´ng cáº§n xem xÃ©t tá»›i potential outcome. Káº¿t quáº£ khÃ´ng Ä‘Æ°á»£c quan sÃ¡t ta gá»i lÃ  _Ä‘á»‘i chá»©ng (counterfactual)_, bá»Ÿi vÃ¬ nÃ³ Ä‘á»‘i láº¡i vá»›i nhá»¯ng gÃ¬ Ä‘Ã£ Ä‘Æ°á»£c chá»©ng minh lÃ  cÃ³ tá»“n táº¡i; ngÆ°á»£c láº¡i káº¿t quáº£ cÃ³ thá»ƒ quan sÃ¡t lÃ  _thá»±c chá»©ng (factual)_.

<!-- move to part 2.1 potential outcomes, p5  -->
NhÆ° váº­y bá»Ÿi vÃ¬ $\{\tau_i|i=1,2,\dots,n\}$ khÃ´ng thá»ƒ tÃ­nh toÃ¡n nÃªn $\tau = \E(\tau_i)$ khÃ´ng thá»ƒ xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c. TrÆ°á»›c khi tÃ¬m hiá»ƒu cÃ¡c phÆ°Æ¡ng phÃ¡p giáº£i quyáº¿t váº¥n Ä‘á» nÃ y, ta hÃ£y lÃ m quen vá»›i má»™t sá»‘ khÃ¡i niá»‡m cÅ©ng nhÆ° cÃ¡c quy Æ°á»›c cÄƒn báº£n trong suy luáº­n nhÃ¢n quáº£. 

# CÃ¡c quy Æ°á»›c cÆ¡ báº£n trong suy luáº­n nhÃ¢n quáº£

## GiÃ¡ trá»‹ trung bÃ¬nh cá»§a káº¿t quáº£ Ä‘iá»u trá»‹ vÃ  cÃ¡ch giáº£i thÃ­ch dá»±a trÃªn kiáº¿n thá»©c cá»§a sá»‘ liá»‡u khuyáº¿t 

NhÆ° Ä‘Ã£ Ä‘á» cáº­p á»Ÿ trÃªn thÃ¬ Ä‘á»‘i vá»›i má»—i má»™t bá»‡nh nhÃ¢n ta chá»‰ cÃ³ thá»ƒ thu Ä‘Æ°á»£c 1 káº¿t quáº£ duy nháº¥t, vÃ¬ tháº¿ viá»‡c tÃ­nh toÃ¡n hiá»‡u quáº£ cá»§a phÆ°Æ¡ng phÃ¡p Ä‘iá»u trá»‹ (treatment effect (TE)) trÃªn má»—i má»™t bá»‡nh nhÃ¢n lÃ  báº¥t kháº£ thi. Tuy nhiÃªn ta váº«n cÃ³ thá»ƒ tÃ­nh toÃ¡n Ä‘Æ°á»£c giÃ¡ trá»‹ trung bÃ¬nh cá»§a TE (average treatment effect (ATE)) báº±ng cÃ´ng thá»©c sau 

$$
\tau = \E[Y_i(1) - Y_i(0)] = \E[Y(1) - Y(0)]
(\#eq:41)
$$

```{r fig1, fig.cap="_sá»‘ liá»‡u minh há»a cho váº¥n Ä‘á» cÆ¡ báº£n trong suy luáº­n nhÃ¢n quáº£ Ä‘Æ°á»£c giáº£i thÃ­ch báº±ng sá»‘ liá»‡u khuyáº¿t_"}
set.seed(2020)
treat = sample(0:1, 10, replace = T)
y1 = ifelse(treat==1, "1","?")%>% modify_if(~.=="1", ~sample(c("0","1"),1))
y2 = ifelse(y1=="?",1,"?")%>% modify_if(~.=="1", ~sample(c("0","1"),1))
y = ifelse(treat==1, y1,y2)

d= tibble(treatment = treat, Y = y, `Y(1)` = y1, `Y(0)` = y2)%>% mutate(`Y(1) - Y(0)` = "?")
draw_table(d, columns  = map(1:5,~colDef(align = "center"))%>% `names<-`(names(d)))
```

Ta hÃ£y quan sÃ¡t báº£ng \@ref(fig:fig1), cá»™t $Y$ lÃ  giÃ¡ trá»‹ duy nháº¥t mÃ  ta cÃ³ thá»ƒ quan sÃ¡t Ä‘Æ°á»£c, cÃ²n 3 cá»™t cuá»‘i Ä‘á»u bá»‹ khuyáº¿t sá»‘ liá»‡u. NhÆ° váº­y, nhÃ¬n vÃ o báº£ng nÃ y, Ã½ tÆ°á»Ÿng Ä‘áº§u tiÃªn ta cÃ³ thá»ƒ nghÄ© ra lÃ  tÃ­nh sá»± khÃ¡c nhau cá»§a 2 nhÃ³m liÃªn Ä‘á»›i (associational difference) $\E[Y|T=1] - \E[T|T=0]$. chÃºng ta mong Ä‘á»£i ráº±ng nÃ³ sáº½ tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i \@ref(eq:41), nhÆ°ng tháº­t ra Ä‘iá»u nÃ y khÃ´ng Ä‘Ãºng bá»Ÿi vÃ¬ má»™t khi Ä‘iá»u nÃ y xáº£y ra thÃ¬ cÃ³ nghÄ©a lÃ  association vÃ  causation sáº½ giá»‘ng nhau, vÃ  nhÆ° Ä‘Ã£ giáº£i thÃ­ch á»Ÿ pháº§n trÆ°á»›c, hai Ä‘áº¡i lÆ°á»£ng nÃ y khÃ´ng thá»ƒ báº±ng nhau. 

Äá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» trÃªn ta hÃ£y xem nhá»¯ng nÆ¡i cÃ³ dáº¥u â€œ?â€ trong báº£ng \@ref(fig:fig1) nhÆ° lÃ  sá»‘ liá»‡u khuyáº¿t (missing data), vÃ  nhá»¯ng giÃ¡ trá»‹ bá»‹ khuyáº¿t nÃ y xáº£y ra ngáº«u nhiÃªn. Tiáº¿p theo ta cáº§n má»™t sá»‘ quy Æ°á»›c nháº±m lÃ m cho váº¥n Ä‘á» trá»Ÿ nÃªn Ä‘Æ¡n giáº£n hÆ¡n, nhá»¯ng quy Æ°á»›c Ä‘Æ°á»£c Ä‘á» cáº­p tiáº¿p theo chÃ­nh lÃ  nhá»¯ng quy Æ°á»›c quan trá»ng trong suy luáº­n nhÃ¢n quáº£.

Ta hÃ£y xem xÃ©t 2 quy Æ°á»›c **ignorability** vÃ  **exchangeability**. Quy Æ°á»›c thá»© nháº¥t Ä‘Æ°á»£c kÃ½ hiá»‡u nhÆ° sau

$$
(Y(1),Y(0)) \indep T
(\#eq:42)
$$
Quy Æ°á»›c nÃ y chÃ­nh lÃ  quy Æ°á»›c quan trá»ng nháº¥t, bá»Ÿi vÃ¬ ta cÃ³ thá»ƒ tÃ­nh Ä‘Æ°á»£c ATE má»™t khi quy Æ°á»›c nÃ y thá»a mÃ£n nhÆ° sau

$$
\begin{aligned}
\E[Y(1)]-\E[Y(0)] &= \E[Y(1)|T=1] - \E[Y(0)|T=0] \\
&= \E[Y|T=1] - \E[Y|T=0]
\end{aligned}
(\#eq:43)
$$
\@ref(eq:43) chá»‰ thá»a mÃ£n má»™t khi $Y(0)$ vÃ  $Y(1)$ Ä‘á»™c láº­p vá»›i $T$. Ignorability Ä‘á»“ng thá»i kháº³ng Ä‘á»‹nh quy Æ°á»›c exchangeability, nghÄ©a lÃ 

$$
\begin{aligned}
\mathbb{E}[Y(1)|T=0] &= \mathbb{E}[Y(1)|T=1], \text{  vÃ   } \mathbb{E}[Y(0)|T=0] = \mathbb{E}[Y(0)|T=1] \\
\Rightarrow \mathbb{E}[Y(1)|T=t] &= \mathbb{E}[Y(1)], \text{ vÃ  } \\
\Rightarrow \mathbb{E}[Y(0)|T=t] &= \mathbb{E}[Y(0)] 
\end{aligned}
$$
TrÃªn thá»±c táº¿ Ä‘iá»u nÃ y chá»‰ Ä‘Ãºng má»™t khi treatment $T$ lÃ  ngáº«u nhiÃªn, tuy nhiÃªn giáº£ thuyáº¿t nÃ y khÃ´ng hoÃ n toÃ n Ä‘Ãºng. Äá»ƒ lÃ m cho giáº£ thuyáº¿t trá»Ÿ nÃªn kháº£ thi ta cáº§n xem xÃ©t á»Ÿ má»™t khÃ­a cáº¡nh khÃ¡c, Ä‘Ã³ lÃ  xem xÃ©t sá»± cÃ³ máº·t cá»§a nhÃ¢n tá»‘ $X$ trong bá»™ 3 biáº¿n $(X,T,Y)$. NhÆ° Ä‘Ã£ nÃ³i náº¿u nhÆ° $(Y(1),Y(0))\indep T$ khÃ´ng hoÃ n toÃ n Ä‘Ãºng, váº­y náº¿u ta xem xÃ©t Ä‘áº¿n sá»± cÃ³ máº·t cá»§a $X$ thÃ¬ sao?! Ta hÃ£y xem xÃ©t tá»›i 1 quy Æ°á»›c khÃ¡c náº±m trong nhÃ³m 3 quy Æ°á»›c â€œtháº§n thÃ¡nhâ€ khi tiáº¿p cáº­n cÃ¡c váº¥n Ä‘á» trong suy luáº­n nhÃ¢n quáº£.

## Confoundedness

:::: {.blackbox .important data-latex=""}
::: {.center data-latex=""}
**$\bigstar$ Confoundedness:**  trong cÃ¹ng má»™t giÃ¡ trá»‹ cá»§a X thÃ¬ potential outcomes sáº½ hoÃ n toÃ n Ä‘á»™c láº­p vá»›i treatment $T$. 
:::

$$
(Y(1),Y(2)) \perp\!\!\!\!\perp T|X
(\#eq:44)
$$
::::

NhÆ° váº­y ta cÃ³ thá»ƒ biáº¿n Ä‘á»•i nhÆ° sau

$$
\begin{aligned}
\mathbb{E}[Y(1) - Y(0)|X] &= \mathbb{E}[Y(1)|X] - \mathbb{E}[Y(0)|X] \\
&= \mathbb{E}[Y(1)|T=1,X] - \mathbb{E}[Y(0)|T=0,X] \\
&= \mathbb{E}[Y|T=1,X] - \mathbb{E}[Y|T=0,X]
\end{aligned}
(\#eq:45)
$$ 
cÃ¡ch giáº£i thÃ­ch tÆ°Æ¡ng tá»± nhÆ° trÆ°á»›c Ä‘Ã³. NhÆ° váº­y ta cÃ³

$$
\begin{aligned}
\mathbb{E}[Y(1) - Y(0)] &= \mathbb{E}_X\mathbb{E}[Y(1)-Y(0)|X] \\
&= \mathbb{E}_X\Big[\mathbb{E}(Y|T=1,X) - \mathbb{E}(Y|T=0,X)\Big]
\end{aligned}
(\#eq:46)
$$

Ta cÃ³ thá»ƒ dá»… dÃ ng tháº¥y Ä‘Æ°á»£c má»‘i quan há»‡ giá»¯a \@ref(eq:45) vÃ  \@ref(eq:46). ÄÃ¢y chÃ­nh lÃ  káº¿t quáº£ quan trá»ng nháº¥t dÆ°á»›i quy Æ°á»›c \@ref(eq:44).

## Positivity

Ta sáº½ giá»›i thiá»‡u thÃªm 1 quy Æ°á»›c ná»¯a lÃ  quy Æ°á»›c vá» xÃ¡c suáº¥t luÃ´n dÆ°Æ¡ng, Ä‘Æ°á»£c kÃ½ hiá»‡u nhÆ° bÃªn dÆ°á»›i

:::: {.blackbox .important data-latex=""}
::: {.center data-latex=""}
**$\bigstar$ Positivity:** trong cÃ¹ng má»™t giÃ¡ trá»‹ cá»§a confounder $X$, xÃ¡c suáº¥t Ä‘á»ƒ nháº­n má»™t trong hai treatment Ä‘á»u lá»›n hÆ¡n 0.
:::

$$
0 < \P(T=1|X=x) <1
(\#eq:47)
$$ 
::::

Äá»ƒ giáº£i thÃ­ch táº¡i sao quy Æ°á»›c nÃ y quan trá»ng, ta cáº§n xem xÃ©t vÃ i Ä‘iá»ƒm trong kiáº¿n thá»©c thá»‘ng kÃª. giáº£i thÃ­ch nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c bá» qua mÃ  khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n cÃ¡c pháº§n sau.

:::: {.blackbox .mathematics data-latex=""} 
::: {.center data-latex=""}
**A little mathy!!!** 
:::
 Ta hÃ£y má»Ÿ rá»™ng káº¿t quáº£ cá»§a \@ref(eq:47) nhÆ° sau 
 
$$
\sum_x\P(X=x)\Big[\sum_yy\P(Y=y|T=1,X=x) - \sum_yy\P(Y=y|T=0,X=x)\Big] 
(\#eq:48)
$$

Giá» ta sá»­ dá»¥ng cÃ´ng thá»©c Bayes  biáº¿n Ä‘á»•i tiáº¿p nhÆ° sau 

$$ 
\sum_x\P(X=x)\Big[\sum_yy\frac{\P(Y=y,T=t,X=x)}{\P(T=1|X=x)\P(X=x)} -  \sum_yy\frac{\P(Y=y,T=0,X=x)}{\P(T=0|X=x)\P(X=x)}  \Big]
(\#eq:49)
$$

RÃµ rÃ ng náº¿u nhÆ° $\P(T=1|X=x) = 0$ cho báº¥t ká»³ giÃ¡ trá»‹ $x$ nÃ o, thÃ¬ phÆ°Æ¡ng trÃ¬nh \@ref(eq:49) Ä‘á»u khÃ´ng thá»ƒ xÃ¡c Ä‘á»‹nh. $\blacksquare$
::::

vá» máº·t tá»« ngá»¯, chÃºng ta cÃ³ thá»ƒ hiá»ƒu lÃ  náº¿u nhÆ° trong cÃ¹ng má»™t nhÃ³m $X =x$ nÃ o Ä‘Ã³, táº¥t cáº£ bá»‡nh nhÃ¢n Ä‘Æ°á»£c Ä‘iá»u trá»‹ báº±ng 1 phÆ°Æ¡ng phÃ¡p duy nháº¥t, thÃ¬ ta khÃ´ng thá»ƒ tiáº¿n hÃ nh so sÃ¡nh phÆ°Æ¡ng phÃ¡p Ä‘Ã³ vá»›i phÆ°Æ¡ng phÃ¡p nÃ o khÃ¡c, bá»i vÃ¬ khÃ´ng cÃ³ ai dÃ¹ng phÆ°Æ¡ng phÃ¡p khÃ¡c cáº£. 

Má»™t lÆ°u Ã½ nhá» ta cáº§n biáº¿t lÃ  2 quy Æ°á»›c \@ref(eq:48) vÃ  \@ref(eq:49) cÃ³ má»‘i quan há»‡ bÃ¹ trá»« cho nhau. VÃ­ dá»¥ nhÆ° trong má»™t táº­p data, náº¿u nhÆ° ta chia nhá» ra thÃ nh nhiá»u nhÃ³m nhá», trong khi quy Æ°á»›c confoundedness cÃ ng Ä‘Æ°á»£c báº£o Ä‘áº£m thÃ¬ quy Æ°á»›c positivity sáº½ giáº£m bá»Ÿi vÃ¬ náº¿u chia nhÃ³m cÃ ng nhá» thÃ¬ xÃ¡c suáº¥t cÃ¡c thÃ nh viÃªn trong cÃ¹ng 1 nhÃ³m nháº­n duy nháº¥t 1 loáº¡i Ä‘iá»u trá»‹ lÃ  ráº¥t cao. Ta cÃ³ thá»ƒ giáº£i thÃ­ch tÆ°Æ¡ng tá»± cho trÆ°á»ng há»£p ngÆ°á»£c láº¡i. 

## No interference & Consistency


:::: {.blackbox .important data-latex=""}
::: {.center data-latex=""}
**$\bigstar$ No interference:** outcome cá»§a ta sáº½ khÃ´ng bá»‹ áº£nh hÆ°á»Ÿng bá»Ÿi treatment cá»§a báº¥t ká»³ ai khÃ¡c, nÃ³i cÃ¡ch khÃ¡c lÃ  outcome sáº½ lÃ  má»™t hÃ m sá»‘ cá»§a riÃªng treatment mÃ  chÃºng ta sá»­ dá»¥ng. NghÄ©a lÃ  
:::

$$
Y_i(t_1,\dots,Y_{i-1},Y_i,Y_{i+1}) = Y_i(t_i)
(\#eq:410)
$$ 
::::

Tá»©c nhiÃªn quy Æ°á»›c nÃ y hoÃ n toÃ n cÃ³ thá»ƒ xáº£y ra, vÃ­ dá»¥ nhÆ° ta Ä‘i quáº©y vá» vÃ  bá»‹ nhá»©c Ä‘áº§u, nhÆ°ng cÅ©ng cÃ³ thá»ƒ trÃªn Ä‘Æ°á»ng cháº¡y vá» nhÃ  ta Ä‘Ã£ gáº·p má»™t yáº¿u tá»‘ nÃ o khÃ¡c áº£nh hÆ°á»Ÿng nhÆ° lÃ  trá»i mÆ°a. 

VÃ  cuá»‘i cÃ¹ng lÃ  quy Æ°á»›c _consistency_:

:::: {.blackbox .important data-latex=""}
::: {.center data-latex=""}
**$\bigstar$ Consistency:** Náº¿u cho $T=t$ thÃ¬ observed outcomes cÅ©ng chÃ­nh lÃ  potential outcomes.
:::

$$
(Y|T=t) = (Y(t)|T=t).
(\#eq:411)
$$ 
::::


# Tá»•ng káº¿t

Äá»‘i vá»›i causal inference ta pháº£i xem xÃ©t Ä‘áº¿n má»™t khÃ¡i niá»‡m gá»i lÃ  __potential outcomes__, Ä‘Ã¢y Ä‘Æ°á»£c xem lÃ  káº¿t quáº£ tiá»m áº©n mÃ  ta cÃ³ thá»ƒ nháº­n Ä‘Æ°á»£c khi can thiá»‡p. "tiá»m áº©n" nghÄ©a lÃ  chÆ°a xáº£y ra, táº¥t cáº£ chá»‰ lÃ  cÃ¡i mÃ  chÃºng ta mong Ä‘á»£i sáº½ cÃ³ sau khi thá»±c hiá»‡n can thiá»‡p, nÃ³i cÃ¡ch khÃ¡c potential outcomes lÃ  cÃ¡i sáº½ xuáº¥t hiá»‡n trong tráº¡ng thÃ¡i lÃ½ tÆ°á»Ÿng, vÃ  tráº¡ng thÃ¡i lÃ½ tÆ°á»Ÿng áº¥y nghÄ©a lÃ  vá»›i má»—i bá»‡nh nhÃ¢n hay Ä‘Æ¡n vá»‹ tham gia, ta Ä‘á»u mong Ä‘á»£i sáº½ cÃ³ 2 káº¿t quáº£,má»—i káº¿t quáº£ tÆ°Æ¡ng á»©ng vá»›i má»—i can thiá»‡p. NhÆ°ng "life is not always perfect", ta sáº½ khÃ´ng bao giá» cÃ³ Ä‘Æ°á»£c káº¿t quáº£ lÃ½ tÆ°á»Ÿng Ä‘Ã³, trong thá»±c táº¿ ta chá»‰ cÃ³ thá»ƒ quan sÃ¡t 1 trong 2 káº¿t quáº£ mÃ  thÃ´i. VÃ¬ má»—i bá»‡nh nhÃ¢n lÃ  1 cÃ¡ nhÃ¢n riÃªng biá»‡t, khÃ´ng cÃ³ phiÃªn báº£n thá»© 2, vÃ  1 cÃ¡ nhÃ¢n cÅ©ng khÃ´ng thá»ƒ lÃ m thÃ­ nghiá»‡m 2 láº§n, vÃ¬ náº¿u thá»±c hiá»‡n láº¡i thÃ¬ Ä‘iá»u kiá»‡n bá»‡nh nhÃ¢n Ä‘Ã£ khÃ¡c bá»Ÿi cÃ¡c váº¥n Ä‘á» nhÆ° thá»i gian, tÃ¬nh tráº¡ng bá»‡nh, tuá»•i tÃ¡c v.v...

Má»‘i liÃªn há»‡ cho phÃ©p ta Ä‘i tá»« tráº¡ng thÃ¡i lÃ½ tÆ°á»Ÿng nhÆ°ng phi thá»±c táº¿ $[Y(1)$ vÃ  $Y(0)]$, sang tráº¡ng thÃ¡i thá»±c táº¿ vá»›i cÃ¡c sá»‘ liá»‡u cÃ³ thá»ƒ tÃ­nh toÃ¡n ($Y|T=1$ vÃ  $Y|T=0$) lÃ  dá»±a trÃªn 3 quy Æ°á»›c ná»n táº£ng: confoundedness, positivity vÃ  no interference, má»™t khi ba quy Æ°á»›c nÃ y thá»a mÃ£n, ta sáº½ tÃ­nh Ä‘Æ°á»£c nhá»¯ng giÃ¡ trá»‹ mong muá»‘n dá»±a trÃªn cÃ¡c sá»‘ liá»‡u thá»±c tiá»…n.  

Má»¥c tiÃªu bÃ i nÃ y lÃ  giá»›i thiá»‡u sÆ¡ lÆ°á»£t vá» suy luáº­n nhÃ¢n quáº£, náº¯m rÃµ Ä‘Æ°á»£c pháº§n nÃ y ta sáº½ dá»… dÃ ng tiáº¿p cáº­n ná»™i dung bÃ i tiáº¿p theo vá» propensity score, má»™t trong nhá»¯ng phÆ°Æ¡ng phÃ¡p khÃ¡ phá»• biáº¿n Ä‘á»ƒ giáº£m Ä‘á»™ nhiá»…u khi phÃ¢n tÃ­ch thá»‘ng kÃª trong suy luáº­n nhÃ¢n quáº£. 

<!-- ################################################################################################### -->
# _References_ {-}